2025-12-23 22:18:16,532 - __main__ - INFO - [app.py:176] - 批量处理文件 1/6: Normal-1.png
2025-12-23 22:18:16,534 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-1.png
2025-12-23 22:18:16,534 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:18:16,545 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:18:16,561 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:18:16,573 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:18:16,580 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:18:16,685 - __main__ - INFO - [app.py:176] - 批量处理文件 2/6: Normal-2.png
2025-12-23 22:18:16,686 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-2.png
2025-12-23 22:18:16,688 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 176499 bytes
2025-12-23 22:18:16,701 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:18:16,702 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:18:16,724 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:18:16,729 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 253.0, 'mean': 139.43080139160156, 'std': 65.01443475917887, 'width': 512.0, 'height': 512.0, 'median': 149.0}
2025-12-23 22:18:16,832 - __main__ - INFO - [app.py:176] - 批量处理文件 3/6: Normal-3.png
2025-12-23 22:18:16,833 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-3.png
2025-12-23 22:18:16,834 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 157175 bytes
2025-12-23 22:18:16,842 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:18:16,847 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:18:16,863 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:18:16,866 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 255.0, 'mean': 109.3395881652832, 'std': 55.38308741226663, 'width': 512.0, 'height': 512.0, 'median': 115.0}
2025-12-23 22:18:16,968 - __main__ - INFO - [app.py:176] - 批量处理文件 4/6: Normal-4.png
2025-12-23 22:18:16,971 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-4.png
2025-12-23 22:18:16,972 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 191160 bytes
2025-12-23 22:18:16,987 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:18:16,991 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:18:17,017 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:18:17,026 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 254.0, 'mean': 109.8180923461914, 'std': 63.36562208961361, 'width': 512.0, 'height': 512.0, 'median': 109.0}
2025-12-23 22:18:17,128 - __main__ - INFO - [app.py:176] - 批量处理文件 5/6: Normal-5.png
2025-12-23 22:18:17,130 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-5.png
2025-12-23 22:18:17,130 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 137955 bytes
2025-12-23 22:18:17,141 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:18:17,143 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:18:17,156 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:18:17,160 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 252.0, 'mean': 173.15634536743164, 'std': 55.115097754540336, 'width': 512.0, 'height': 512.0, 'median': 186.0}
2025-12-23 22:18:17,263 - __main__ - INFO - [app.py:176] - 批量处理文件 6/6: Normal-6.png
2025-12-23 22:18:17,263 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-6.png
2025-12-23 22:18:17,265 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 171772 bytes
2025-12-23 22:18:17,270 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:18:17,270 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:18:17,287 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:18:17,295 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 251.0, 'mean': 162.5344581604004, 'std': 55.11637955434961, 'width': 512.0, 'height': 512.0, 'median': 179.0}
2025-12-23 22:18:17,408 - __main__ - ERROR - [app.py:260] - 批量处理错误: No module named 'mysql'
Traceback (most recent call last):
  File "D:\l_pj\app.py", line 218, in main
    history_manager.save_entries_to_db(history_objects)
  File "D:\l_pj\modules\history_manager.py", line 214, in save_entries_to_db
    conn = self._get_conn()
           ^^^^^^^^^^^^^^^^
  File "D:\l_pj\modules\history_manager.py", line 61, in _get_conn
    import mysql.connector.pooling
ModuleNotFoundError: No module named 'mysql'
2025-12-23 22:20:13,078 - __main__ - INFO - [app.py:176] - 批量处理文件 1/6: Normal-1.png
2025-12-23 22:20:13,079 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-1.png
2025-12-23 22:20:13,081 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:20:13,091 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:20:13,107 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:20:13,121 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:20:13,124 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:20:13,227 - __main__ - INFO - [app.py:176] - 批量处理文件 2/6: Normal-2.png
2025-12-23 22:20:13,228 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-2.png
2025-12-23 22:20:13,230 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 176499 bytes
2025-12-23 22:20:13,241 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:20:13,242 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:20:13,260 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:20:13,265 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 253.0, 'mean': 139.43080139160156, 'std': 65.01443475917887, 'width': 512.0, 'height': 512.0, 'median': 149.0}
2025-12-23 22:20:13,366 - __main__ - INFO - [app.py:176] - 批量处理文件 3/6: Normal-3.png
2025-12-23 22:20:13,366 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-3.png
2025-12-23 22:20:13,367 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 157175 bytes
2025-12-23 22:20:13,378 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:20:13,379 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:20:13,390 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:20:13,397 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 255.0, 'mean': 109.3395881652832, 'std': 55.38308741226663, 'width': 512.0, 'height': 512.0, 'median': 115.0}
2025-12-23 22:20:13,499 - __main__ - INFO - [app.py:176] - 批量处理文件 4/6: Normal-4.png
2025-12-23 22:20:13,499 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-4.png
2025-12-23 22:20:13,500 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 191160 bytes
2025-12-23 22:20:13,509 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:20:13,512 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:20:13,529 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:20:13,533 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 254.0, 'mean': 109.8180923461914, 'std': 63.36562208961361, 'width': 512.0, 'height': 512.0, 'median': 109.0}
2025-12-23 22:20:13,635 - __main__ - INFO - [app.py:176] - 批量处理文件 5/6: Normal-5.png
2025-12-23 22:20:13,636 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-5.png
2025-12-23 22:20:13,636 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 137955 bytes
2025-12-23 22:20:13,644 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:20:13,645 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:20:13,658 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:20:13,662 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 252.0, 'mean': 173.15634536743164, 'std': 55.115097754540336, 'width': 512.0, 'height': 512.0, 'median': 186.0}
2025-12-23 22:20:13,763 - __main__ - INFO - [app.py:176] - 批量处理文件 6/6: Normal-6.png
2025-12-23 22:20:13,765 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-6.png
2025-12-23 22:20:13,765 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 171772 bytes
2025-12-23 22:20:13,776 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:20:13,778 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:20:13,802 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:20:13,806 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 251.0, 'mean': 162.5344581604004, 'std': 55.11637955434961, 'width': 512.0, 'height': 512.0, 'median': 179.0}
2025-12-23 22:20:14,575 - modules.history_manager - ERROR - [history_manager.py:86] - 创建MySQL连接池失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:20:15,026 - modules.history_manager - ERROR - [history_manager.py:91] - 创建单个MySQL连接失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:20:15,026 - __main__ - ERROR - [app.py:260] - 批量处理错误: 1049 (42000): Unknown database 'medical_images'
Traceback (most recent call last):
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 335, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
_mysql_connector.MySQLInterfaceError: Unknown database 'medical_images'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\l_pj\modules\history_manager.py", line 78, in _get_conn
    self._mysql_pool = mysql.connector.pooling.MySQLConnectionPool(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 490, in __init__
    self.add_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 613, in add_connection
    cnx = connect(**self._cnx_config)  # type: ignore[assignment]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 151, in __init__
    self.connect(**kwargs)
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\abstracts.py", line 1426, in connect
    self._open_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 340, in _open_connection
    raise get_mysql_exception(
mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'medical_images'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 335, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
_mysql_connector.MySQLInterfaceError: Unknown database 'medical_images'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\l_pj\app.py", line 218, in main
    history_manager.save_entries_to_db(history_objects)
  File "D:\l_pj\modules\history_manager.py", line 214, in save_entries_to_db
    conn = self._get_conn()
           ^^^^^^^^^^^^^^^^
  File "D:\l_pj\modules\history_manager.py", line 89, in _get_conn
    return mysql.connector.connect(**cfg)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 151, in __init__
    self.connect(**kwargs)
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\abstracts.py", line 1426, in connect
    self._open_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 340, in _open_connection
    raise get_mysql_exception(
mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:20:38,264 - modules.history_manager - ERROR - [history_manager.py:86] - 创建MySQL连接池失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:20:38,798 - modules.history_manager - ERROR - [history_manager.py:91] - 创建单个MySQL连接失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:20:39,342 - modules.history_manager - ERROR - [history_manager.py:86] - 创建MySQL连接池失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:20:39,934 - modules.history_manager - ERROR - [history_manager.py:86] - 创建MySQL连接池失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:20:39,966 - modules.history_manager - ERROR - [history_manager.py:91] - 创建单个MySQL连接失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:20:40,558 - modules.history_manager - ERROR - [history_manager.py:91] - 创建单个MySQL连接失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:20:41,001 - modules.history_manager - ERROR - [history_manager.py:86] - 创建MySQL连接池失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:20:41,656 - modules.history_manager - ERROR - [history_manager.py:91] - 创建单个MySQL连接失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:25:32,624 - __main__ - INFO - [app.py:274] - 开始处理文件: Normal-1.png
2025-12-23 22:25:32,625 - __main__ - INFO - [app.py:278] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:25:32,631 - __main__ - INFO - [app.py:284] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:25:32,649 - __main__ - INFO - [app.py:294] - 图像预处理完成
2025-12-23 22:25:32,663 - __main__ - INFO - [app.py:302] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:25:32,668 - __main__ - INFO - [app.py:311] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:25:34,265 - __main__ - INFO - [app.py:348] - 生成下载数据: enhanced_Normal-1.png
2025-12-23 22:28:13,309 - __main__ - INFO - [app.py:274] - 开始处理文件: Normal-1.png
2025-12-23 22:28:13,309 - __main__ - INFO - [app.py:278] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:28:13,316 - __main__ - INFO - [app.py:284] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:28:13,319 - __main__ - INFO - [app.py:294] - 图像预处理完成
2025-12-23 22:28:13,337 - __main__ - INFO - [app.py:302] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:28:13,341 - __main__ - INFO - [app.py:311] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:28:13,383 - __main__ - INFO - [app.py:348] - 生成下载数据: enhanced_Normal-1.png
2025-12-23 22:29:32,714 - __main__ - INFO - [app.py:274] - 开始处理文件: Normal-1.png
2025-12-23 22:29:32,715 - __main__ - INFO - [app.py:278] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:29:32,722 - __main__ - INFO - [app.py:284] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:29:32,726 - __main__ - INFO - [app.py:294] - 图像预处理完成
2025-12-23 22:29:32,744 - __main__ - INFO - [app.py:302] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:29:32,747 - __main__ - INFO - [app.py:311] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:29:32,751 - __main__ - ERROR - [app.py:381] - 未知错误: ImageMixin.image() got an unexpected keyword argument 'use_column_widthwidth'
Traceback (most recent call last):
  File "D:\l_pj\app.py", line 316, in main
    ui.show_image_comparison(
  File "D:\l_pj\modules\ui_components.py", line 101, in show_image_comparison
    st.image(original_img, caption=f"尺寸: {original_img.shape[1]}x{original_img.shape[0]}",
  File "D:\anaconda\envs\py3.12\Lib\site-packages\streamlit\runtime\metrics_util.py", line 531, in wrapped_func
    result = non_optional_func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ImageMixin.image() got an unexpected keyword argument 'use_column_widthwidth'
2025-12-23 22:30:33,415 - __main__ - INFO - [app.py:274] - 开始处理文件: Normal-1.png
2025-12-23 22:30:33,416 - __main__ - INFO - [app.py:278] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:30:33,422 - __main__ - INFO - [app.py:284] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:30:33,426 - __main__ - INFO - [app.py:294] - 图像预处理完成
2025-12-23 22:30:33,439 - __main__ - INFO - [app.py:302] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:30:33,443 - __main__ - INFO - [app.py:311] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:30:33,487 - __main__ - INFO - [app.py:348] - 生成下载数据: enhanced_Normal-1.png
2025-12-23 22:32:14,848 - __main__ - INFO - [app.py:274] - 开始处理文件: Normal-1.png
2025-12-23 22:32:14,848 - __main__ - INFO - [app.py:278] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:32:14,855 - __main__ - INFO - [app.py:284] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:32:14,859 - __main__ - INFO - [app.py:294] - 图像预处理完成
2025-12-23 22:32:14,872 - __main__ - INFO - [app.py:302] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:32:14,876 - __main__ - INFO - [app.py:311] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:32:14,919 - __main__ - INFO - [app.py:348] - 生成下载数据: enhanced_Normal-1.png
2025-12-23 22:32:15,615 - modules.history_manager - ERROR - [history_manager.py:86] - 创建MySQL连接池失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:32:16,224 - modules.history_manager - ERROR - [history_manager.py:91] - 创建单个MySQL连接失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:32:16,224 - __main__ - ERROR - [app.py:381] - 未知错误: 1049 (42000): Unknown database 'medical_images'
Traceback (most recent call last):
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 335, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
_mysql_connector.MySQLInterfaceError: Unknown database 'medical_images'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\l_pj\modules\history_manager.py", line 78, in _get_conn
    self._mysql_pool = mysql.connector.pooling.MySQLConnectionPool(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 490, in __init__
    self.add_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 613, in add_connection
    cnx = connect(**self._cnx_config)  # type: ignore[assignment]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 151, in __init__
    self.connect(**kwargs)
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\abstracts.py", line 1426, in connect
    self._open_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 340, in _open_connection
    raise get_mysql_exception(
mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'medical_images'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 335, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
_mysql_connector.MySQLInterfaceError: Unknown database 'medical_images'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\l_pj\app.py", line 361, in main
    st.session_state.history = history_manager.add_entry(
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\l_pj\modules\history_manager.py", line 201, in add_entry
    self.save_entry_to_db(entry)
  File "D:\l_pj\modules\history_manager.py", line 251, in save_entry_to_db
    conn = self._get_conn()
           ^^^^^^^^^^^^^^^^
  File "D:\l_pj\modules\history_manager.py", line 89, in _get_conn
    return mysql.connector.connect(**cfg)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 151, in __init__
    self.connect(**kwargs)
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\abstracts.py", line 1426, in connect
    self._open_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 340, in _open_connection
    raise get_mysql_exception(
mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:37:40,989 - __main__ - INFO - [app.py:176] - 批量处理文件 1/6: Normal-1.png
2025-12-23 22:37:40,990 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-1.png
2025-12-23 22:37:40,991 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:37:40,997 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:41,011 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:41,024 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:41,028 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:37:41,130 - __main__ - INFO - [app.py:176] - 批量处理文件 2/6: Normal-2.png
2025-12-23 22:37:41,131 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-2.png
2025-12-23 22:37:41,131 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 176499 bytes
2025-12-23 22:37:41,144 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:41,146 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:41,166 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:41,169 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 253.0, 'mean': 139.43080139160156, 'std': 65.01443475917887, 'width': 512.0, 'height': 512.0, 'median': 149.0}
2025-12-23 22:37:41,272 - __main__ - INFO - [app.py:176] - 批量处理文件 3/6: Normal-3.png
2025-12-23 22:37:41,273 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-3.png
2025-12-23 22:37:41,273 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 157175 bytes
2025-12-23 22:37:41,281 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:41,282 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:41,297 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:41,301 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 255.0, 'mean': 109.3395881652832, 'std': 55.38308741226663, 'width': 512.0, 'height': 512.0, 'median': 115.0}
2025-12-23 22:37:41,403 - __main__ - INFO - [app.py:176] - 批量处理文件 4/6: Normal-4.png
2025-12-23 22:37:41,404 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-4.png
2025-12-23 22:37:41,405 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 191160 bytes
2025-12-23 22:37:41,414 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:41,416 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:41,427 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:41,433 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 254.0, 'mean': 109.8180923461914, 'std': 63.36562208961361, 'width': 512.0, 'height': 512.0, 'median': 109.0}
2025-12-23 22:37:41,536 - __main__ - INFO - [app.py:176] - 批量处理文件 5/6: Normal-5.png
2025-12-23 22:37:41,537 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-5.png
2025-12-23 22:37:41,540 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 137955 bytes
2025-12-23 22:37:41,556 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:41,558 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:41,583 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:41,590 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 252.0, 'mean': 173.15634536743164, 'std': 55.115097754540336, 'width': 512.0, 'height': 512.0, 'median': 186.0}
2025-12-23 22:37:41,691 - __main__ - INFO - [app.py:176] - 批量处理文件 6/6: Normal-6.png
2025-12-23 22:37:41,692 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-6.png
2025-12-23 22:37:41,693 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 171772 bytes
2025-12-23 22:37:41,703 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:41,707 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:41,724 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:41,730 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 251.0, 'mean': 162.5344581604004, 'std': 55.11637955434961, 'width': 512.0, 'height': 512.0, 'median': 179.0}
2025-12-23 22:37:42,620 - modules.history_manager - ERROR - [history_manager.py:86] - 创建MySQL连接池失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:37:43,255 - modules.history_manager - ERROR - [history_manager.py:91] - 创建单个MySQL连接失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:37:43,257 - __main__ - ERROR - [app.py:260] - 批量处理错误: 1049 (42000): Unknown database 'medical_images'
Traceback (most recent call last):
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 335, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
_mysql_connector.MySQLInterfaceError: Unknown database 'medical_images'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\l_pj\modules\history_manager.py", line 78, in _get_conn
    self._mysql_pool = mysql.connector.pooling.MySQLConnectionPool(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 490, in __init__
    self.add_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 613, in add_connection
    cnx = connect(**self._cnx_config)  # type: ignore[assignment]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 151, in __init__
    self.connect(**kwargs)
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\abstracts.py", line 1426, in connect
    self._open_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 340, in _open_connection
    raise get_mysql_exception(
mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'medical_images'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 335, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
_mysql_connector.MySQLInterfaceError: Unknown database 'medical_images'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\l_pj\app.py", line 218, in main
    history_manager.save_entries_to_db(history_objects)
  File "D:\l_pj\modules\history_manager.py", line 214, in save_entries_to_db
    conn = self._get_conn()
           ^^^^^^^^^^^^^^^^
  File "D:\l_pj\modules\history_manager.py", line 89, in _get_conn
    return mysql.connector.connect(**cfg)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 151, in __init__
    self.connect(**kwargs)
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\abstracts.py", line 1426, in connect
    self._open_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 340, in _open_connection
    raise get_mysql_exception(
mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:37:50,275 - __main__ - INFO - [app.py:176] - 批量处理文件 1/6: Normal-1.png
2025-12-23 22:37:50,276 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-1.png
2025-12-23 22:37:50,276 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:37:50,283 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:50,285 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:50,304 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:50,312 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:37:50,413 - __main__ - INFO - [app.py:176] - 批量处理文件 2/6: Normal-2.png
2025-12-23 22:37:50,415 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-2.png
2025-12-23 22:37:50,418 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 176499 bytes
2025-12-23 22:37:50,431 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:50,434 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:50,449 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:50,453 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 253.0, 'mean': 139.43080139160156, 'std': 65.01443475917887, 'width': 512.0, 'height': 512.0, 'median': 149.0}
2025-12-23 22:37:50,557 - __main__ - INFO - [app.py:176] - 批量处理文件 3/6: Normal-3.png
2025-12-23 22:37:50,559 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-3.png
2025-12-23 22:37:50,561 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 157175 bytes
2025-12-23 22:37:50,573 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:50,576 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:50,595 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:50,603 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 255.0, 'mean': 109.3395881652832, 'std': 55.38308741226663, 'width': 512.0, 'height': 512.0, 'median': 115.0}
2025-12-23 22:37:50,706 - __main__ - INFO - [app.py:176] - 批量处理文件 4/6: Normal-4.png
2025-12-23 22:37:50,709 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-4.png
2025-12-23 22:37:50,710 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 191160 bytes
2025-12-23 22:37:50,719 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:50,726 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:50,743 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:50,749 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 254.0, 'mean': 109.8180923461914, 'std': 63.36562208961361, 'width': 512.0, 'height': 512.0, 'median': 109.0}
2025-12-23 22:37:50,852 - __main__ - INFO - [app.py:176] - 批量处理文件 5/6: Normal-5.png
2025-12-23 22:37:50,852 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-5.png
2025-12-23 22:37:50,853 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 137955 bytes
2025-12-23 22:37:50,863 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:50,866 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:50,882 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:50,891 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 252.0, 'mean': 173.15634536743164, 'std': 55.115097754540336, 'width': 512.0, 'height': 512.0, 'median': 186.0}
2025-12-23 22:37:50,993 - __main__ - INFO - [app.py:176] - 批量处理文件 6/6: Normal-6.png
2025-12-23 22:37:50,995 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-6.png
2025-12-23 22:37:50,996 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 171772 bytes
2025-12-23 22:37:51,008 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:37:51,010 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:37:51,024 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:37:51,031 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 251.0, 'mean': 162.5344581604004, 'std': 55.11637955434961, 'width': 512.0, 'height': 512.0, 'median': 179.0}
2025-12-23 22:37:51,139 - __main__ - ERROR - [app.py:260] - 批量处理错误: no such table: history
Traceback (most recent call last):
  File "D:\l_pj\app.py", line 218, in main
    history_manager.save_entries_to_db(history_objects)
  File "D:\l_pj\modules\history_manager.py", line 229, in save_entries_to_db
    cur.executemany(sql, data)
sqlite3.OperationalError: no such table: history
2025-12-23 22:38:12,848 - __main__ - INFO - [app.py:176] - 批量处理文件 1/6: Normal-1.png
2025-12-23 22:38:12,851 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-1.png
2025-12-23 22:38:12,852 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:38:12,860 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:12,863 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:12,876 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:12,878 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:38:12,981 - __main__ - INFO - [app.py:176] - 批量处理文件 2/6: Normal-2.png
2025-12-23 22:38:12,982 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-2.png
2025-12-23 22:38:12,982 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 176499 bytes
2025-12-23 22:38:12,987 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:12,988 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:13,007 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:13,011 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 253.0, 'mean': 139.43080139160156, 'std': 65.01443475917887, 'width': 512.0, 'height': 512.0, 'median': 149.0}
2025-12-23 22:38:13,113 - __main__ - INFO - [app.py:176] - 批量处理文件 3/6: Normal-3.png
2025-12-23 22:38:13,113 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-3.png
2025-12-23 22:38:13,114 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 157175 bytes
2025-12-23 22:38:13,123 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:13,125 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:13,146 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:13,150 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 255.0, 'mean': 109.3395881652832, 'std': 55.38308741226663, 'width': 512.0, 'height': 512.0, 'median': 115.0}
2025-12-23 22:38:13,252 - __main__ - INFO - [app.py:176] - 批量处理文件 4/6: Normal-4.png
2025-12-23 22:38:13,254 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-4.png
2025-12-23 22:38:13,254 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 191160 bytes
2025-12-23 22:38:13,264 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:13,267 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:13,285 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:13,291 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 254.0, 'mean': 109.8180923461914, 'std': 63.36562208961361, 'width': 512.0, 'height': 512.0, 'median': 109.0}
2025-12-23 22:38:13,393 - __main__ - INFO - [app.py:176] - 批量处理文件 5/6: Normal-5.png
2025-12-23 22:38:13,394 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-5.png
2025-12-23 22:38:13,395 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 137955 bytes
2025-12-23 22:38:13,399 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:13,400 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:13,416 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:13,421 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 252.0, 'mean': 173.15634536743164, 'std': 55.115097754540336, 'width': 512.0, 'height': 512.0, 'median': 186.0}
2025-12-23 22:38:13,524 - __main__ - INFO - [app.py:176] - 批量处理文件 6/6: Normal-6.png
2025-12-23 22:38:13,525 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-6.png
2025-12-23 22:38:13,525 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 171772 bytes
2025-12-23 22:38:13,532 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:13,532 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:13,546 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:13,551 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 251.0, 'mean': 162.5344581604004, 'std': 55.11637955434961, 'width': 512.0, 'height': 512.0, 'median': 179.0}
2025-12-23 22:38:13,655 - __main__ - ERROR - [app.py:260] - 批量处理错误: no such table: history
Traceback (most recent call last):
  File "D:\l_pj\app.py", line 218, in main
    history_manager.save_entries_to_db(history_objects)
  File "D:\l_pj\modules\history_manager.py", line 229, in save_entries_to_db
    cur.executemany(sql, data)
sqlite3.OperationalError: no such table: history
2025-12-23 22:38:19,190 - __main__ - INFO - [app.py:176] - 批量处理文件 1/6: Normal-1.png
2025-12-23 22:38:19,191 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-1.png
2025-12-23 22:38:19,192 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 148040 bytes
2025-12-23 22:38:19,203 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:19,204 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:19,219 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:19,222 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 237.0, 'mean': 102.3648910522461, 'std': 53.606645220261335, 'width': 512.0, 'height': 512.0, 'median': 103.0}
2025-12-23 22:38:19,324 - __main__ - INFO - [app.py:176] - 批量处理文件 2/6: Normal-2.png
2025-12-23 22:38:19,326 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-2.png
2025-12-23 22:38:19,327 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 176499 bytes
2025-12-23 22:38:19,339 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:19,340 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:19,361 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:19,366 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 253.0, 'mean': 139.43080139160156, 'std': 65.01443475917887, 'width': 512.0, 'height': 512.0, 'median': 149.0}
2025-12-23 22:38:19,467 - __main__ - INFO - [app.py:176] - 批量处理文件 3/6: Normal-3.png
2025-12-23 22:38:19,469 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-3.png
2025-12-23 22:38:19,469 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 157175 bytes
2025-12-23 22:38:19,483 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:19,486 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:19,498 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:19,503 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 255.0, 'mean': 109.3395881652832, 'std': 55.38308741226663, 'width': 512.0, 'height': 512.0, 'median': 115.0}
2025-12-23 22:38:19,605 - __main__ - INFO - [app.py:176] - 批量处理文件 4/6: Normal-4.png
2025-12-23 22:38:19,606 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-4.png
2025-12-23 22:38:19,606 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 191160 bytes
2025-12-23 22:38:19,620 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:19,622 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:19,645 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:19,649 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 254.0, 'mean': 109.8180923461914, 'std': 63.36562208961361, 'width': 512.0, 'height': 512.0, 'median': 109.0}
2025-12-23 22:38:19,751 - __main__ - INFO - [app.py:176] - 批量处理文件 5/6: Normal-5.png
2025-12-23 22:38:19,754 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-5.png
2025-12-23 22:38:19,755 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 137955 bytes
2025-12-23 22:38:19,768 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:19,769 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:19,792 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:19,799 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 252.0, 'mean': 173.15634536743164, 'std': 55.115097754540336, 'width': 512.0, 'height': 512.0, 'median': 186.0}
2025-12-23 22:38:19,901 - __main__ - INFO - [app.py:176] - 批量处理文件 6/6: Normal-6.png
2025-12-23 22:38:19,902 - __main__ - INFO - [app.py:64] - 开始处理文件: Normal-6.png
2025-12-23 22:38:19,903 - __main__ - INFO - [app.py:68] - 文件读取成功，大小: 171772 bytes
2025-12-23 22:38:19,917 - __main__ - INFO - [app.py:74] - 图像解码成功，尺寸: (512, 512, 3)
2025-12-23 22:38:19,919 - __main__ - INFO - [app.py:83] - 图像预处理完成
2025-12-23 22:38:19,936 - __main__ - INFO - [app.py:90] - 伪彩色增强完成，使用颜色方案: 标准
2025-12-23 22:38:19,943 - __main__ - INFO - [app.py:94] - 图像统计计算完成: {'min': 0.0, 'max': 251.0, 'mean': 162.5344581604004, 'std': 55.11637955434961, 'width': 512.0, 'height': 512.0, 'median': 179.0}
2025-12-23 22:38:20,628 - modules.history_manager - ERROR - [history_manager.py:86] - 创建MySQL连接池失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:38:21,097 - modules.history_manager - ERROR - [history_manager.py:91] - 创建单个MySQL连接失败: 1049 (42000): Unknown database 'medical_images'
2025-12-23 22:38:21,098 - __main__ - ERROR - [app.py:260] - 批量处理错误: 1049 (42000): Unknown database 'medical_images'
Traceback (most recent call last):
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 335, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
_mysql_connector.MySQLInterfaceError: Unknown database 'medical_images'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\l_pj\modules\history_manager.py", line 78, in _get_conn
    self._mysql_pool = mysql.connector.pooling.MySQLConnectionPool(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 490, in __init__
    self.add_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 613, in add_connection
    cnx = connect(**self._cnx_config)  # type: ignore[assignment]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 151, in __init__
    self.connect(**kwargs)
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\abstracts.py", line 1426, in connect
    self._open_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 340, in _open_connection
    raise get_mysql_exception(
mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'medical_images'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 335, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
_mysql_connector.MySQLInterfaceError: Unknown database 'medical_images'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\l_pj\app.py", line 218, in main
    history_manager.save_entries_to_db(history_objects)
  File "D:\l_pj\modules\history_manager.py", line 214, in save_entries_to_db
    conn = self._get_conn()
           ^^^^^^^^^^^^^^^^
  File "D:\l_pj\modules\history_manager.py", line 89, in _get_conn
    return mysql.connector.connect(**cfg)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 151, in __init__
    self.connect(**kwargs)
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\abstracts.py", line 1426, in connect
    self._open_connection()
  File "D:\anaconda\envs\py3.12\Lib\site-packages\mysql\connector\connection_cext.py", line 340, in _open_connection
    raise get_mysql_exception(
mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'medical_images'
